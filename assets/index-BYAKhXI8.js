import{r,G as u,j as e,I as m,i as g,L as y}from"./index-Bvyn_dXy.js";import{P as _}from"./ProductsSlider-CqgpAAkF.js";import"./ProductCard-5llVU219.js";const h=[{image:"img/phones/apple-iphone-14/midnight/00.webp",url:"phones/apple-iphone-14-128gb-midnight"},{image:"img/phones/apple-iphone-14/purple/00.webp",url:"phones/apple-iphone-14-128gb-purple"},{image:"img/phones/apple-iphone-14/yellow/00.webp",url:"phones/apple-iphone-14-128gb-yellow"}],v=5e3,b=()=>{const[s,i]=r.useState(0),{theme:o}=r.useContext(u),t=r.useRef(null),c=h.length,n=r.useCallback(()=>{i(l=>(l+1)%c)},[c]),p=r.useCallback(()=>{i(l=>(l-1+c)%c)},[c]),a=r.useCallback(()=>{t.current&&clearInterval(t.current),t.current=setInterval(n,v)},[n]);r.useEffect(()=>(a(),()=>{t.current&&clearInterval(t.current)}),[a]);const j=r.useCallback(l=>{i(l),a()},[a]),C=r.useCallback(()=>{n(),a()},[n,a]),S=r.useCallback(()=>{p(),a()},[p,a]),N=h[s];return e.jsxs("div",{className:"picturesSlider",children:[e.jsxs("div",{className:"picturesSlider__container",children:[e.jsx("div",{className:"picturesSlider__button",onClick:S,children:e.jsx(m,{icon:g.arrow_left[o]})}),e.jsxs("div",{className:"picturesSlider__content",children:[e.jsxs("div",{className:"picturesSlider__aside",children:[e.jsxs("div",{children:[e.jsxs("div",{children:[e.jsxs("div",{className:"picturesSlider__aside-title",children:["Now available"," "]}),e.jsx("span",{className:"picturesSlider__aside-title",children:"in our store!"}),e.jsx("span",{className:"picturesSlider__aside-smile",children:"ðŸ‘Œ"})]}),e.jsx("div",{className:"picturesSlider__aside-description",children:"Be the first!"})]}),e.jsx(y,{to:N.url,className:"picturesSlider__aside-action",children:"Order now"})]}),e.jsx("div",{className:"picturesSlider__container-image",children:h.map((l,d)=>e.jsx("img",{src:l.image,alt:"Slide",className:s===d?"picturesSlider__image picturesSlider__image--active":"picturesSlider__image"},d))})]}),e.jsx("div",{className:"picturesSlider__button",onClick:C,children:e.jsx(m,{icon:g.arrow_right[o]})})]}),e.jsx("div",{className:"picturesSlider__dots",children:h.map((l,d)=>e.jsx("div",{className:s===d?"picturesSlider__dot picturesSlider__dot--active":"picturesSlider__dot",onClick:()=>j(d)},d))})]})},k=()=>{const{allProducts:s}=r.useContext(u),i=r.useMemo(()=>s.reduce((t,c)=>({...t,[c.category]:(t[c.category]||0)+1}),{}),[s]),o=[{path:"/phones",image:"img/Category for phones.png",title:"Mobile phones",alt:"Category Phones",count:i.phones||0},{path:"/tablets",image:"img/Category for tablets.png",title:"Tablets",alt:"Category Tablets",count:i.tablets||0},{path:"/accessories",image:"img/Category for accessories.png",title:"Accessories",alt:"Category Accessories",count:i.accessories||0}];return e.jsx("div",{className:"shopByCategory",children:e.jsxs("div",{className:"shopByCategory__container",children:[e.jsx("h2",{className:"shopByCategory__title",children:"Shop by category"}),e.jsx("div",{className:"shopByCategory__content",children:o.map(({path:t,image:c,title:n,alt:p,count:a})=>e.jsx(y,{to:t,className:"shopByCategory__link",children:e.jsxs("section",{className:"shopByCategory__block",children:[e.jsx("div",{className:"shopByCategory__block-image",children:e.jsx("img",{src:c,alt:p})}),e.jsx("h4",{className:"shopByCategory__block-title",children:n}),e.jsxs("span",{className:"shopByCategory__block-description",children:[a," models"]})]})},t))})]})})},x=20,f="phones",B=(s,i)=>(s-i)/s*100,P=(s,i)=>i.year-s.year,w=(s,i)=>i.discount-s.discount,L=()=>{const{allProducts:s}=r.useContext(u),i=r.useMemo(()=>s!=null&&s.length?s.filter(t=>t.category===f).sort(P).slice(0,x):[],[s]),o=r.useMemo(()=>s!=null&&s.length?s.map(t=>({...t,discount:B(t.fullPrice,t.price)})).sort(w).slice(0,x):[],[s]);return e.jsxs("div",{className:"homePage",children:[e.jsx("h1",{className:"visually-hidden",children:"Product Catalog"}),e.jsx("h1",{className:"homePage__title",children:"Welcome to Nice Gadgets store!"}),e.jsx(b,{}),e.jsx(_,{title:"Brand new models",products:i,displayType:"fullPrice"}),e.jsx(k,{}),e.jsx(_,{title:"Hot prices",products:o,displayType:"with-discount"})]})};export{L as HomePage};
